{"version":3,"sources":["webpack:///./src/views/User.vue?76f6","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?3ed3","webpack:///./src/views/User.vue","webpack:///./src/views/User.vue?54ac"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","xs12","md8","offset-md2","src","__webpack_require__","_v","_s","user","firstName","lastName","aboutMe","$store","state","ref","lazy-validation","on","submit","$event","preventDefault","postComment","model","value","callback","$$v","valid","expression","rules","commentRules","label","required","comment","error","_e","disabled","type","_l","key","id","author","date","staticRenderFns","Uservue_type_script_lang_js_","data","comments","firstLoad","v","created","_this","nprogress_nprogress_default","a","start","init","collection","doc","$route","params","user_id","get","then","done","onSnapshot","snapshot","docChanges","forEach","change","unshift","orderBy","querySnap","push","methods","_this2","$refs","form","validate","index_cjs_default","auth","currentUser","uid","concat","moment_default","String","Date","format","add","views_Uservue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","installComponents_default","VBtn","VCard","VContainer","VFlex","VForm","VLayout","VTextField","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_User_vue_vue_type_style_index_0_lang_sass___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_User_vue_vue_type_style_index_0_lang_sass___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-0da38497.01c801da.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"mt-5 pt-5 user-container\"},[_c('v-layout',[_c('v-flex',{attrs:{\"xs12\":\"\",\"md8\":\"\",\"offset-md2\":\"\"}},[_c('img',{staticClass:\"image-container\",attrs:{\"src\":require(\"./../../public/no-person.jpg\")}}),_c('h2',[_vm._v(_vm._s(_vm.user.firstName)+\" \"+_vm._s(_vm.user.lastName))]),_c('p',[_vm._v(_vm._s(_vm.user.aboutMe))]),(_vm.$store.state.authUser)?_c('v-card',[_c('v-form',{ref:\"form\",staticClass:\"pa-4\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.postComment($event)}},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.commentRules,\"label\":\"What's on your mind?\",\"required\":\"\"},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}}),(_vm.error)?_c('p',{staticClass:\"red--text\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e(),_c('v-btn',{staticClass:\"indigo white--text text-capitalize mt-4\",attrs:{\"disabled\":!_vm.valid,\"type\":\"submit\"}},[_vm._v(\"\\n                      Post A Comment\\n                      \")])],1)],1):_vm._e(),_c('div',_vm._l((_vm.comments),function(comment){return _c('v-card',{key:comment.id,staticClass:\"my-2 pa-3 animate-fade-in\"},[_c('h3',{staticClass:\"indigo--text\"},[_vm._v(_vm._s(comment.author))]),_c('small',[_vm._v(_vm._s(comment.date))]),_c('p',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(comment.comment)+\" \")])])}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container class=\"mt-5 pt-5 user-container\">\r\n      <v-layout>\r\n          <v-flex xs12 md8 offset-md2>\r\n              <img src=\"./../../public/no-person.jpg\" class=\"image-container\">\r\n              <h2>{{ user.firstName }} {{ user.lastName }}</h2>\r\n              <p>{{ user.aboutMe }}</p>\r\n                     <v-card v-if=\"$store.state.authUser\">\r\n                        <v-form\r\n                        @submit.prevent=\"postComment\"\r\n                        class=\"pa-4\"\r\n                        ref=\"form\"\r\n                        v-model=\"valid\"\r\n                        lazy-validation\r\n                    >\r\n\r\n                        <v-text-field\r\n                        v-model=\"comment\"\r\n                        :rules=\"commentRules\"\r\n                        label=\"What's on your mind?\"\r\n                        required\r\n                        ></v-text-field>\r\n\r\n                        <p v-if=\"error\" class=\"red--text\"> {{ error }} </p>\r\n                        <v-btn\r\n                        :disabled=\"!valid\"\r\n                        class=\"indigo white--text text-capitalize mt-4\"\r\n                        type=\"submit\"\r\n                        >\r\n                        Post A Comment\r\n                        </v-btn>\r\n                    </v-form>\r\n                </v-card>\r\n                <div>\r\n                  <v-card v-for=\"comment in comments\" :key=\"comment.id\" class=\"my-2 pa-3 animate-fade-in\">\r\n                    <h3 class=\"indigo--text\">{{ comment.author }}</h3>\r\n                    <small>{{ comment.date }}</small>\r\n                    <p class=\"mb-0\"> {{ comment.comment }} </p>\r\n                  </v-card>\r\n                </div>\r\n          </v-flex>\r\n      </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n\r\n<script>\r\nimport firebase from 'firebase'\r\nimport db from \"@/firebase/init\"\r\nimport moment from 'moment'\r\nimport './../../node_modules/nprogress/nprogress.css'\r\nimport NProgress from 'nprogress'\r\n\r\n  export default {\r\n    data: () => ({\r\n      valid: true,\r\n      comment: '',\r\n      author: '',\r\n      error: null,\r\n      user: null,\r\n      comments: [],\r\n      firstLoad: true,\r\n      commentRules: [\r\n        v => !!v || 'Input is required'\r\n      ]\r\n    }),\r\n   created () {\r\n     NProgress.start()\r\n     db.collection('users').doc(this.$route.params.user_id).get().then(doc => {\r\n       this.user = doc.data()\r\n     }).then(() => {\r\n       NProgress.done()\r\n     })  \r\n      db.collection('users').doc(this.$route.params.user_id).collection('comments').onSnapshot(snapshot => {\r\n        snapshot.docChanges().forEach(change => {\r\n          if(change.type == 'added' && !this.firstLoad) {\r\n          let comment = change.doc.data()\r\n          comment.id = change.doc.id\r\n          this.comments.unshift(comment)\r\n          \r\n          }\r\n        }) \r\n      })\r\n      if(this.firstLoad) {\r\n        db.collection('users').doc(this.$route.params.user_id).collection('comments').orderBy('date', 'desc').get().then(querySnap => {\r\n        querySnap.forEach(doc => {\r\n          let comment = doc.data()\r\n          comment.id = doc.id\r\n          this.comments.push(comment)\r\n        }) \r\n      })\r\n      }\r\n\r\n    },\r\n\r\n  methods: {\r\n  postComment() {\r\n    NProgress.start()\r\n    if (this.$refs.form.validate()) {\r\n          this.firstLoad = false\r\n          db.collection('users').doc(firebase.auth().currentUser.uid).get().then(doc => {\r\n          let user = doc.data()\r\n          this.author = `${user.firstName} ${user.lastName}`\r\n          this.date = moment(String(Date())).format('MM/DD/YYYY hh:mm')\r\n        }).then(() => {\r\n          db.collection('users').doc(this.$route.params.user_id).collection('comments').add({author: this.author, comment: this.comment, date: this.date })\r\n          this.comment = ' '\r\n          NProgress.done()\r\n        })\r\n      }\r\n      \r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"sass\">\r\n\r\n.user-container h2\r\n    color: #3f51b5 !important\r\n\r\n.user-container p\r\n    color: #3f51b5 !important\r\n\r\n.user-container img\r\n    color: #fff !important\r\n\r\n.user-container a\r\n    position: relative\r\n    right: 10px\r\n\r\n.user-container .image-container\r\n  width: 100px\r\n  height: 100px\r\n  margin-left: 0\r\n  margin-bottom: 0 !important\r\n\r\n.animate-fade-in\r\n  animation: comment-fade-in .7s forwards ease-in-out\r\n\r\n@keyframes comment-fade-in \r\n  from\r\n    opacity: 0\r\n    transform: scale(0)\r\n\r\n  to\r\n    opacity: 1\r\n    transform: scale(1)\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=b19d07e0&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!C:/Users/Opto Maurović/Desktop/dev-book/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VForm } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VCard,VContainer,VFlex,VForm,VLayout,VTextField})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&lang=sass&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&lang=sass&\""],"sourceRoot":""}