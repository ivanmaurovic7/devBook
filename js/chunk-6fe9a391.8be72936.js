(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fe9a391"],{"34ca":function(t,e,a){},"44f4":function(t,e,a){"use strict";var o=a("34ca"),s=a.n(o);s.a},e051:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"mt-5 pt-5 user-container"},[o("v-layout",[o("v-flex",{attrs:{xs12:"",md8:"","offset-md2":""}},[o("img",{staticClass:"img-container",attrs:{src:a("4e26")}}),o("h2",[t._v(t._s(t.user.firstName)+" "+t._s(t.user.lastName))]),o("p",[t._v(t._s(t.user.aboutMe))]),t.$store.state.authUser?o("v-card",[o("v-form",{ref:"form",staticClass:"pa-4",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.postComment(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[o("v-text-field",{attrs:{rules:t.commentRules,label:"What's on your mind?",required:""},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),t.error?o("p",{staticClass:"red--text"},[t._v(" "+t._s(t.error)+" ")]):t._e(),o("v-btn",{staticClass:"indigo white--text text-capitalize mt-4",attrs:{disabled:!t.valid,type:"submit"}},[t._v("\n                      Post A Comment\n                      ")])],1)],1):t._e(),t.comments?o("div",t._l(t.comments,function(e){return o("v-card",{key:e.comment,staticClass:"mt-4 pa-3 animate-fade-in",attrs:{id:e.id}},[o("h3",{staticClass:"indigo--text"},[t._v(t._s(e.author))]),o("small",[t._v(t._s(e.date))]),o("p",[t._v(" "+t._s(e.comment)+" ")]),o("v-btn",{attrs:{absolute:"",dark:"",fab:"",top:"",small:"",right:"",color:"red accent-3"},on:{click:function(a){return t.deleteItem(e.id)}}},[o("strong",[t._v("-")])])],1)}),1):t._e()],1)],1)],1)},s=[],n=(a("ac6a"),a("032d")),r=a("8aa5"),c=a.n(r),i=(a("a5d8"),a("323e")),u=a.n(i),d=a("c1df"),m=a.n(d),l={data:function(){return{valid:!0,comment:"",author:"",error:null,user:null,comments:[],firstLoad:!0,commentRules:[function(t){return!!t||"Input is required"}]}},methods:{postComment:function(){var t=this;u.a.start(),this.$refs.form.validate()&&(this.firstLoad=!1,n["a"].collection("users").doc(this.$route.params.curr_id).get().then(function(e){var a=e.data();t.author="".concat(a.firstName," ").concat(a.lastName),t.date=m()(String(Date())).format("MM/DD/YYYY hh:mm")}).then(function(){n["a"].collection("users").doc(t.$route.params.curr_id).collection("comments").add({author:t.author,comment:t.comment,date:t.date}),t.comment=" ",u.a.done()}))},deleteItem:function(t){var e=this,a=document.getElementById(t);a.classList.remove("animate-fade-in"),a.classList.add("animate-fade-out"),setTimeout(function(){a.style.display="none",n["a"].collection("users").doc(e.user.id).collection("comments").doc(t).delete()},500)}},created:function(){var t=this;u.a.start(),this.$store.state.users?this.$store.state.users.forEach(function(e){e.id==t.$route.params.curr_id&&(t.user=e,u.a.done())}):n["a"].collection("users").doc(this.$route.params.curr_id).get().then(function(e){t.user=e.data(),u.a.done()}),n["a"].collection("users").doc(this.$route.params.curr_id).collection("comments").onSnapshot(function(e){e.docChanges().forEach(function(e){if("added"==e.type&&!t.firstLoad){var a=e.doc.data();a.id=e.doc.id,t.comments.unshift(a)}})}),this.firstLoad&&n["a"].collection("users").doc(this.$route.params.curr_id).collection("comments").orderBy("date","desc").get().then(function(e){e.forEach(function(e){var a=e.data();a.id=e.id,t.comments.push(a),t.firstLoad=!1})})},beforeRouteEnter:function(t,e,a){a(function(t){t.$route.params.curr_id!=c.a.auth().currentUser.uid&&t.$router.push("/users")})}},f=l,h=(a("44f4"),a("2877")),v=a("6544"),p=a.n(v),_=a("8336"),b=a("b0af"),C=a("a523"),$=a("0e8f"),g=a("4bd4"),x=a("a722"),y=a("2677"),k=Object(h["a"])(f,o,s,!1,null,null,null);e["default"]=k.exports;p()(k,{VBtn:_["a"],VCard:b["a"],VContainer:C["a"],VFlex:$["a"],VForm:g["a"],VLayout:x["a"],VTextField:y["a"]})}}]);
//# sourceMappingURL=chunk-6fe9a391.8be72936.js.map