(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0da38497"],{1511:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("v-container",{staticClass:"mt-5 pt-5 user-container"},[n("v-layout",[n("v-flex",{attrs:{xs12:"",md8:"","offset-md2":""}},[n("img",{staticClass:"image-container",attrs:{src:e("4e26")}}),n("h2",[t._v(t._s(t.user.firstName)+" "+t._s(t.user.lastName))]),n("p",[t._v(t._s(t.user.aboutMe))]),t.$store.state.authUser?n("v-card",[n("v-form",{ref:"form",staticClass:"pa-4",attrs:{"lazy-validation":""},on:{submit:function(a){return a.preventDefault(),t.postComment(a)}},model:{value:t.valid,callback:function(a){t.valid=a},expression:"valid"}},[n("v-text-field",{attrs:{rules:t.commentRules,label:"What's on your mind?",required:""},model:{value:t.comment,callback:function(a){t.comment=a},expression:"comment"}}),t.error?n("p",{staticClass:"red--text"},[t._v(" "+t._s(t.error)+" ")]):t._e(),n("v-btn",{staticClass:"indigo white--text text-capitalize mt-4",attrs:{disabled:!t.valid,type:"submit"}},[t._v("\n                      Post A Comment\n                      ")])],1)],1):t._e(),n("div",t._l(t.comments,function(a){return n("v-card",{key:a.id,staticClass:"my-2 pa-3 animate-fade-in"},[n("h3",{staticClass:"indigo--text"},[t._v(t._s(a.author))]),n("small",[t._v(t._s(a.date))]),n("p",{staticClass:"mb-0"},[t._v(" "+t._s(a.comment)+" ")])])}),1)],1)],1)],1)},s=[],o=(e("ac6a"),e("8aa5")),r=e.n(o),i=e("032d"),c=e("c1df"),u=e.n(c),d=(e("a5d8"),e("323e")),m=e.n(d),l={data:function(){return{valid:!0,comment:"",author:"",error:null,user:null,comments:[],firstLoad:!0,commentRules:[function(t){return!!t||"Input is required"}]}},created:function(){var t=this;m.a.start(),i["a"].collection("users").doc(this.$route.params.user_id).get().then(function(a){t.user=a.data()}).then(function(){m.a.done()}),i["a"].collection("users").doc(this.$route.params.user_id).collection("comments").onSnapshot(function(a){a.docChanges().forEach(function(a){if("added"==a.type&&!t.firstLoad){var e=a.doc.data();e.id=a.doc.id,t.comments.unshift(e)}})}),this.firstLoad&&i["a"].collection("users").doc(this.$route.params.user_id).collection("comments").orderBy("date","desc").get().then(function(a){a.forEach(function(a){var e=a.data();e.id=a.id,t.comments.push(e)})})},methods:{postComment:function(){var t=this;m.a.start(),this.$refs.form.validate()&&(this.firstLoad=!1,i["a"].collection("users").doc(r.a.auth().currentUser.uid).get().then(function(a){var e=a.data();t.author="".concat(e.firstName," ").concat(e.lastName),t.date=u()(String(Date())).format("MM/DD/YYYY hh:mm")}).then(function(){i["a"].collection("users").doc(t.$route.params.user_id).collection("comments").add({author:t.author,comment:t.comment,date:t.date}),t.comment=" ",m.a.done()}))}}},f=l,h=(e("753a"),e("2877")),v=e("6544"),p=e.n(v),_=e("8336"),b=e("b0af"),C=e("a523"),x=e("0e8f"),g=e("4bd4"),y=e("a722"),w=e("2677"),V=Object(h["a"])(f,n,s,!1,null,null,null);a["default"]=V.exports;p()(V,{VBtn:_["a"],VCard:b["a"],VContainer:C["a"],VFlex:x["a"],VForm:g["a"],VLayout:y["a"],VTextField:w["a"]})},"4ac0":function(t,a,e){},"753a":function(t,a,e){"use strict";var n=e("4ac0"),s=e.n(n);s.a}}]);
//# sourceMappingURL=chunk-0da38497.01c801da.js.map