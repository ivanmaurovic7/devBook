{"version":3,"sources":["webpack:///./src/views/Myprofile.vue?ea80","webpack:///./src/views/Myprofile.vue?4ae6","webpack:///src/views/Myprofile.vue","webpack:///./src/views/Myprofile.vue?ae05","webpack:///./src/views/Myprofile.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Myprofile_vue_vue_type_style_index_0_lang_sass___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Myprofile_vue_vue_type_style_index_0_lang_sass___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","xs12","md8","offset-md2","src","_v","_s","user","firstName","lastName","aboutMe","$store","state","ref","lazy-validation","on","submit","$event","preventDefault","postComment","model","value","callback","$$v","valid","expression","rules","commentRules","label","required","comment","error","_e","disabled","type","_l","key","id","author","date","absolute","dark","fab","top","small","right","color","click","deleteItem","staticRenderFns","Myprofilevue_type_script_lang_js_","data","comments","firstLoad","v","methods","_this","nprogress_nprogress_default","a","start","$refs","form","validate","init","collection","doc","$route","params","curr_id","get","then","concat","moment_default","String","Date","format","add","done","commentID","_this2","currentCont","document","getElementById","classList","remove","setTimeout","style","display","delete","created","_this3","users","forEach","onSnapshot","snapshot","docChanges","change","unshift","orderBy","querySnap","push","beforeRouteEnter","to","from","next","vm","index_cjs_default","auth","currentUser","uid","$router","views_Myprofilevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","installComponents_default","VBtn","VCard","VContainer","VFlex","VForm","VLayout","VTextField"],"mappings":"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","file":"js/chunk-6fe9a391.8be72936.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Myprofile.vue?vue&type=style&index=0&lang=sass&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Myprofile.vue?vue&type=style&index=0&lang=sass&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"mt-5 pt-5 user-container\"},[_c('v-layout',[_c('v-flex',{attrs:{\"xs12\":\"\",\"md8\":\"\",\"offset-md2\":\"\"}},[_c('img',{staticClass:\"img-container\",attrs:{\"src\":require(\"./../../public/no-person.jpg\")}}),_c('h2',[_vm._v(_vm._s(_vm.user.firstName)+\" \"+_vm._s(_vm.user.lastName))]),_c('p',[_vm._v(_vm._s(_vm.user.aboutMe))]),(_vm.$store.state.authUser)?_c('v-card',[_c('v-form',{ref:\"form\",staticClass:\"pa-4\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.postComment($event)}},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.commentRules,\"label\":\"What's on your mind?\",\"required\":\"\"},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}}),(_vm.error)?_c('p',{staticClass:\"red--text\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e(),_c('v-btn',{staticClass:\"indigo white--text text-capitalize mt-4\",attrs:{\"disabled\":!_vm.valid,\"type\":\"submit\"}},[_vm._v(\"\\n                      Post A Comment\\n                      \")])],1)],1):_vm._e(),(_vm.comments)?_c('div',_vm._l((_vm.comments),function(comment){return _c('v-card',{key:comment.comment,staticClass:\"mt-4 pa-3 animate-fade-in\",attrs:{\"id\":comment.id}},[_c('h3',{staticClass:\"indigo--text\"},[_vm._v(_vm._s(comment.author))]),_c('small',[_vm._v(_vm._s(comment.date))]),_c('p',[_vm._v(\" \"+_vm._s(comment.comment)+\" \")]),_c('v-btn',{attrs:{\"absolute\":\"\",\"dark\":\"\",\"fab\":\"\",\"top\":\"\",\"small\":\"\",\"right\":\"\",\"color\":\"red accent-3\"},on:{\"click\":function($event){return _vm.deleteItem(comment.id)}}},[_c('strong',[_vm._v(\"-\")])])],1)}),1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container class=\"mt-5 pt-5 user-container\">\r\n      <v-layout>\r\n          <v-flex xs12 md8 offset-md2>\r\n              <img  src=\"./../../public/no-person.jpg\" class=\"img-container\">\r\n              <h2>{{ user.firstName }} {{ user.lastName }}</h2>\r\n              <p>{{ user.aboutMe }}</p>\r\n                                   <v-card v-if=\"$store.state.authUser\">\r\n                        <v-form\r\n                        @submit.prevent=\"postComment\"\r\n                        class=\"pa-4\"\r\n                        ref=\"form\"\r\n                        v-model=\"valid\"\r\n                        lazy-validation\r\n                    >\r\n\r\n                        <v-text-field\r\n                        v-model=\"comment\"\r\n                        :rules=\"commentRules\"\r\n                        label=\"What's on your mind?\"\r\n                        required\r\n                        ></v-text-field>\r\n\r\n                        <p v-if=\"error\" class=\"red--text\"> {{ error }} </p>\r\n                        <v-btn\r\n                        :disabled=\"!valid\"\r\n                        class=\"indigo white--text text-capitalize mt-4\"\r\n                        type=\"submit\"\r\n                        >\r\n                        Post A Comment\r\n                        </v-btn>\r\n                    </v-form>\r\n                </v-card>\r\n              <div v-if=\"comments\">\r\n                <v-card v-for=\"comment in comments\" :key=\"comment.comment\" :id=\"comment.id\" class=\"mt-4 pa-3 animate-fade-in\">\r\n                  <h3 class=\"indigo--text\">{{ comment.author }}</h3>\r\n                  <small>{{ comment.date }}</small>\r\n                  <p> {{comment.comment }} </p>\r\n                  <v-btn\r\n                    @click=\"deleteItem(comment.id)\"\r\n                    absolute\r\n                    dark\r\n                    fab\r\n                    top\r\n                    small\r\n                    right\r\n                    color=\"red accent-3\"\r\n                  >\r\n                    <strong>-</strong>\r\n                  </v-btn>\r\n                </v-card>\r\n              </div>\r\n          </v-flex>\r\n      </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n\r\n<script>\r\nimport db from \"@/firebase/init\"\r\nimport firebase from 'firebase'\r\nimport './../../node_modules/nprogress/nprogress.css'\r\nimport NProgress from 'nprogress'\r\nimport moment from 'moment'\r\n\r\n\r\nexport default {\r\n    data: () => ({\r\n      valid: true,\r\n      comment: '',\r\n      author: '',\r\n      error: null,\r\n      user: null,\r\n      comments: [],\r\n      firstLoad: true,\r\n      commentRules: [\r\n        v => !!v || 'Input is required'\r\n      ]\r\n    }),\r\n  methods: {\r\n      postComment() {\r\n    NProgress.start()\r\n    if (this.$refs.form.validate()) {\r\n          this.firstLoad = false\r\n          db.collection('users').doc(this.$route.params.curr_id).get().then(doc => {\r\n          let user = doc.data()\r\n          this.author = `${user.firstName} ${user.lastName}`\r\n          this.date = moment(String(Date())).format('MM/DD/YYYY hh:mm')\r\n        }).then(() => {\r\n          db.collection('users').doc(this.$route.params.curr_id).collection('comments').add({author: this.author, comment: this.comment, date: this.date })\r\n          this.comment = ' '\r\n          NProgress.done()\r\n        })\r\n      }\r\n      \r\n    },\r\n\r\n    deleteItem(commentID) {\r\n      let currentCont = document.getElementById(commentID)\r\n      currentCont.classList.remove('animate-fade-in')\r\n      currentCont.classList.add('animate-fade-out')\r\n      setTimeout(() => {\r\n        currentCont.style.display = 'none'\r\n        db.collection('users').doc(this.user.id).collection('comments').doc(commentID).delete()\r\n      }, 500)\r\n    }\r\n  },\r\n   created () {\r\n     NProgress.start()\r\n     if(!this.$store.state.users) {\r\n     db.collection('users').doc(this.$route.params.curr_id).get().then(doc => {\r\n       this.user = doc.data()\r\n       NProgress.done()\r\n     })\r\n    } else {\r\n      this.$store.state.users.forEach(user => {\r\n          if (user.id == this.$route.params.curr_id) {\r\n            this.user = user\r\n            NProgress.done()\r\n          }\r\n        })\r\n      } \r\n      \r\n      db.collection('users').doc(this.$route.params.curr_id).collection('comments').onSnapshot(snapshot => {\r\n        snapshot.docChanges().forEach(change => {\r\n          if(change.type == 'added' && !this.firstLoad) {\r\n          let comment = change.doc.data()\r\n          comment.id = change.doc.id\r\n          this.comments.unshift(comment)\r\n          \r\n          }\r\n        }) \r\n      })\r\n      if(this.firstLoad) {\r\n        db.collection('users').doc(this.$route.params.curr_id).collection('comments').orderBy('date', 'desc').get().then(querySnap => {\r\n        querySnap.forEach(doc => {\r\n          let comment = doc.data()\r\n          comment.id = doc.id\r\n          this.comments.push(comment)\r\n          this.firstLoad = false\r\n        }) \r\n      })\r\n      }\r\n         \r\n  },\r\n\r\n      beforeRouteEnter (to, from, next) {\r\n        next(vm => {\r\n          if(vm.$route.params.curr_id != firebase.auth().currentUser.uid) vm.$router.push('/users')\r\n        })\r\n      }\r\n    }\r\n</script>\r\n\r\n\r\n<style lang=\"sass\">\r\n\r\n.animate-fade-in\r\n  animation: comment-fade-in .7s forwards ease-in-out\r\n\r\n@keyframes comment-fade-in \r\n  from\r\n    opacity: 0\r\n    transform: scale(0)\r\n\r\n  to\r\n    opacity: 1\r\n    transform: scale(1)\r\n\r\n\r\n.user-container h2\r\n    color: #3f51b5 !important\r\n\r\n.user-container p\r\n    color: #3f51b5 !important\r\n\r\n.user-container img\r\n    color: #fff !important\r\n\r\n.user-container a\r\n    position: relative\r\n    right: 10px\r\n\r\n.user-container .image-container\r\n  width: 100px\r\n  height: 100px\r\n  background-color: black\r\n  margin-left: 0\r\n  margin-bottom: 20px\r\n\r\n.animate-fade-out\r\n  animation: comment-fade-out .5s forwards ease-in-out\r\n\r\n@keyframes comment-fade-out \r\n  from\r\n    opacity: 1\r\n    transform: scale(1)\r\n\r\n  to\r\n    opacity: 0\r\n    transform: scale(0)\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Myprofile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Myprofile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Myprofile.vue?vue&type=template&id=0726f86c&\"\nimport script from \"./Myprofile.vue?vue&type=script&lang=js&\"\nexport * from \"./Myprofile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Myprofile.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!C:/Users/Opto MauroviÄ‡/Desktop/dev-book/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VForm } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VCard,VContainer,VFlex,VForm,VLayout,VTextField})\n"],"sourceRoot":""}